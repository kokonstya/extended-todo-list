(this["webpackJsonpextended-todo-list"]=this["webpackJsonpextended-todo-list"]||[]).push([[0],{49:function(e,t,o){e.exports=o(67)},59:function(e,t,o){},61:function(e,t,o){},62:function(e,t,o){},63:function(e,t,o){},64:function(e,t,o){},65:function(e,t,o){},66:function(e,t,o){},67:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),r=o(19),i=o.n(r),s=o(9),l=o(11),d=o(12),c=o(14),u=o(13),p=(o(59),o(6)),m=function(e){return{type:"UPDATE_LIST",action:e,id:arguments.length<=1?void 0:arguments[1],title:arguments.length<=2?void 0:arguments[2]}},f=function(e){return{type:"UPDATE_TODO",action:e,id:arguments.length<=1?void 0:arguments[1],text:arguments.length<=2?void 0:arguments[2],important:arguments.length<=3?void 0:arguments[3],done:arguments.length<=4?void 0:arguments[4],date:arguments.length<=5?void 0:arguments[5]}},L=function(e){return{type:"CLOSE_MODAL_TODO",payload:e}},O=function(e){return{type:"DIALOG_TODO_TOGGLE",payload:e}},E=function(e){return{type:"DIALOG_LIST_TOGGLE",payload:e}},T=function(e){return{type:"CLOSE_MODAL_LIST",payload:e}},h=function(e,t){return{type:"SHOW_ALERT",status:e,message:t}},g=function(){return{type:"CLOSE_ALERT"}},v=function e(t){var o;o=Math.floor(100*Math.random());var a=t.some((function(e){return e.id===o}));return t.length>=95?0:a?e(t):o},b=function(e){var t=JSON.stringify(Object(p.a)(e));localStorage.setItem("data-todo-26042020",t)},y=o(69),j=o(70),S=function(e){Object(c.a)(o,e);var t=Object(u.a)(o);function o(){var e;Object(l.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={setAutoSave:setInterval((function(){return b(e.props.todoLists)}),1e4),value:!1},e}return Object(d.a)(o,[{key:"render",value:function(){var e=this;return n.a.createElement("header",{className:"bordered"},n.a.createElement("div",{className:"logo"},n.a.createElement("i",{className:"fa fa-list-ol","aria-hidden":"true"}," ToDo-List")),n.a.createElement("div",{className:"user-info"},n.a.createElement("b",null,"User_Name_1"),n.a.createElement(y.a,{variant:"info"},"\u0412\u044b\u0439\u0442\u0438")),n.a.createElement(j.a,null,n.a.createElement(y.a,{variant:"success",onClick:function(){return b(e.props.todoLists)}},"Save"),n.a.createElement(y.a,{disabled:this.state.value,variant:"warning",onClick:function(){clearInterval(e.state.setAutoSave),e.setState({value:!0})}},"Off auto save"),n.a.createElement(y.a,{variant:"danger",onClick:function(){localStorage.removeItem("data-todo-26042020")}},"Reset all data")))}}]),o}(a.Component),C=Object(s.b)((function(e){return e}),{})(S),A=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},I=n.a.createContext(),_=I.Provider,U=I.Consumer,k=function(){return function(e){return function(t){return n.a.createElement(U,null,(function(o){return n.a.createElement(e,Object.assign({},t,{todoService:o}))}))}}},D=o(73),w=o(45),M=function(e){Object(c.a)(o,e);var t=Object(u.a)(o);function o(){return Object(l.a)(this,o),t.apply(this,arguments)}return Object(d.a)(o,[{key:"render",value:function(){var e=this,t=this.props.todoLists.find((function(t){return t.id===e.props.currentTodoList}))||this.props.todoLists.find((function(e){return e}));return t?n.a.createElement(D.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),n.a.createElement(D.a.Header,{closeButton:!0},n.a.createElement(D.a.Title,{id:"contained-modal-title-center"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a ",n.a.createElement("i",null,t.title)," ?")),n.a.createElement(w.a,null,"\u0412\u0441\u0435\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e ",t.todos.length," \u0434\u0435\u043b(\u0430).",t.todos.map((function(e,t){return n.a.createElement("div",{key:t},e.text)}))),n.a.createElement(D.a.Footer,null,n.a.createElement(y.a,{variant:"danger",onClick:this.props.dialogListToggle},n.a.createElement("i",null,"\u041d\u0415\u0422")),n.a.createElement(y.a,{variant:"success",onClick:function(){e.props.onUpdateList("delete",e.props.onUpdateListId),e.props.showAlert("error","\u0421\u043f\u0438\u0441\u043e\u043a ".concat(t.title," \u0443\u0434\u0430\u043b\u0435\u043d ")),setTimeout(e.props.closeAlert,3e3)}},n.a.createElement("i",null,"\u0414\u0410")))):n.a.createElement("div",null)}}]),o}(a.Component),x=Object(s.b)((function(e){return{todoLists:e.todoLists,onUpdateListId:e.onUpdateListId,currentTodoList:e.currentTodoList}}),{dialogListToggle:E,onUpdateList:m,showAlert:h,closeAlert:g})(M),N=o(74),V=o(71),H=o(46),R=function(e){Object(c.a)(o,e);var t=Object(u.a)(o);function o(){var e;Object(l.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={inputValue:""},e.onChange=function(t){e.setState({inputValue:t.target.value})},e.onSubmit=function(t){t.preventDefault(),!e.state.inputValue||e.state.inputValue.length<=0?(e.props.closeModalList(),e.props.showAlert("error","\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 "),setTimeout(e.props.closeAlert,3e3)):e.state.inputValue.length>=30?(e.props.closeModalList(),e.props.showAlert("error","\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 "),setTimeout(e.props.closeAlert,3e3)):e.props.todoLists.some((function(t){return t.title===e.state.inputValue}))?(e.props.closeModalList(),e.props.showAlert("error","\u0422\u0430\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 "),setTimeout(e.props.closeAlert,3e3)):e.props.onUpdateListItem?(e.props.onUpdateList("update",e.props.onUpdateListItem.id,e.state.inputValue),e.props.showAlert("success","\u0421\u043f\u0438\u0441\u043e\u043a ".concat(e.state.inputValue," \u0438\u0437\u043c\u0435\u043d\u0435\u043d ")),setTimeout(e.props.closeAlert,3e3)):(e.props.onUpdateList("add",v(e.props.todoLists),e.state.inputValue),e.props.showAlert("success","\u0421\u043f\u0438\u0441\u043e\u043a ".concat(e.state.inputValue," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d ")),setTimeout(e.props.closeAlert,3e3))},e}return Object(d.a)(o,[{key:"componentDidUpdate",value:function(e,t,o){this.props.onUpdateListItem&&e!==this.props&&this.setState({inputValue:this.props.onUpdateListItem.title})}},{key:"render",value:function(){return n.a.createElement(D.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),n.a.createElement(D.a.Header,{closeButton:!0},n.a.createElement(D.a.Title,{id:"contained-modal-title-vcenter"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u043b")),n.a.createElement(D.a.Body,null,n.a.createElement(N.a,{onSubmit:this.onSubmit},n.a.createElement(V.a,{className:"mb-3"},n.a.createElement(V.a.Prepend,null,n.a.createElement(V.a.Text,{id:"basic-addon1"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")),n.a.createElement(H.a,{onChange:this.onChange,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u043b",value:this.state.inputValue,"aria-label":"Username","aria-describedby":"basic-addon"})),n.a.createElement(y.a,{variant:"success",onClick:this.onSubmit},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))}}]),o}(a.Component),F=Object(s.b)((function(e){return e}),{closeModalList:T,onUpdateList:m,showAlert:h,closeAlert:g})(R),z=(o(61),function(){return n.a.createElement("div",{className:"lds-css"},n.a.createElement("div",{className:"lds-double-ring"},n.a.createElement("div",null),n.a.createElement("div",null)))}),G=(o(62),function(){return n.a.createElement("div",{className:"error"},n.a.createElement("i",{className:"fa fas fa-bug"})," ",n.a.createElement("i",null," \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 =( ",n.a.createElement("hr",null)," \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."))}),P=(o(63),o(72)),B=function(e){return"error"===e.status?n.a.createElement(P.a,{variant:"danger"},e.message):"success"!==e.status||n.a.createElement(P.a,{variant:"success"},e.message)},J=function(e){var t=e.currentTodoList,o=e.filterValue,a=e.todoLists,r=e.setCurrentTodoList,i=e.dialogListToggle,s=e.isListDialogOpened,l=e.isListModalOpened,d=e.openModalList,c=e.closeModalList,u=e.isAlertShow,p=e.onFilterChanged,m="outline-primary",f="outline-primary",L="outline-primary";return"all"===o&&(m="primary"),"active"===o&&(f="primary"),"done"===o&&(L="primary"),n.a.createElement("div",null,n.a.createElement(x,{show:s,onHide:i}),n.a.createElement(F,{show:l,onHide:c}),n.a.createElement("div",null,n.a.createElement(j.a,null,n.a.createElement(y.a,{onClick:function(){return p("all")},size:"md",variant:m},"\u0412\u0441\u0435"),n.a.createElement(y.a,{onClick:function(){return p("active")},size:"md",variant:f},"\u041d\u0435\u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435"),n.a.createElement(y.a,{onClick:function(){return p("done")},size:"md",variant:L},"\u0418\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435")),function(e,t){switch(t){case"all":return e;case"active":return e.filter((function(e){return e.todos.some((function(e){return!1===e.done}))}));case"done":return e.filter((function(e){return e.todos.every((function(e){return!0===e.done}))}));default:return e}}(a,o).sort((function(e,t){return e.title.localeCompare(t.title)})).map((function(e){var o="todo-lists-title";return e.id===t&&(o+=" current"),e.todos.every((function(e){return!0===e.done}))&&0!==e.todos.length?o+=" done":e.todos.some((function(e){return!1===e.done}))&&(o+=" active"),n.a.createElement("div",{className:"todo-lists",key:e.id,onClick:function(){return r(e.id)}},n.a.createElement("h5",{className:o},e.title),n.a.createElement("div",{className:"buttons"},n.a.createElement(y.a,{variant:"outline-info",size:"sm",onClick:function(){return d(e.id)}},n.a.createElement("i",{className:"fa fa-pencil"})),n.a.createElement(y.a,{variant:"outline-info",size:"sm",onClick:function(){return i(e.id)}},n.a.createElement("i",{className:"fa fa-times"}))))}))),n.a.createElement(y.a,{className:"add-todo-button",variant:"success",size:"lg",onClick:function(){return d(null)}},"+"),n.a.createElement(B,{show:u.status,status:u.status,message:u.message}))},q=function(e){Object(c.a)(o,e);var t=Object(u.a)(o);function o(){return Object(l.a)(this,o),t.apply(this,arguments)}return Object(d.a)(o,[{key:"componentDidMount",value:function(){var e=this.props,t=e.todoService,o=e.todoListsLoaded,a=e.todoListsError;(0,e.todoListsRequested)(),t.getTodoLists().then((function(e){return o(e)})).catch((function(e){return a(e)}))}},{key:"render",value:function(){var e=this.props,t=e.todoLists,o=e.loading,a=e.error,r=e.setCurrentTodoList,i=e.dialogListToggle,s=e.isListDialogOpened,l=e.openModalList,d=e.isListModalOpened,c=e.closeModalList,u=e.currentTodoList,p=e.isAlertShow,m=e.filterValue,f=e.onFilterChanged;return o?n.a.createElement(z,null):a?n.a.createElement(G,null):n.a.createElement(J,{todoLists:t,setCurrentTodoList:r,dialogListToggle:i,currentTodoList:u,isListDialogOpened:s,openModalList:l,isListModalOpened:d,closeModalList:c,isAlertShow:p,filterValue:m,onFilterChanged:f})}}]),o}(a.Component),Q=A(k(),Object(s.b)((function(e){return{currentTodoList:e.currentTodoList,onUpdateListId:e.onUpdateListId,todoLists:e.todoLists,loading:e.loading,error:e.error,isListDialogOpened:e.isListDialogOpened,isListModalOpened:e.isListModalOpened,isAlertShow:e.isAlertShow,filterValue:e.filterValue}}),{todoListsLoaded:function(e){return{type:"FETCH_TODO_LISTS_SUCCESS",payload:e}},todoListsError:function(e){return{type:"FETCH_TODO_LISTS_FAILURE",payload:e}},setCurrentTodoList:function(e){return{type:"SET_CURRENT_TODO_LIST",payload:e}},dialogListToggle:E,todoListsRequested:function(){return{type:"FETCH_TODO_LISTS_REQUEST"}},openModalList:function(e){return{type:"OPEN_MODAL_LIST",payload:e}},closeModalList:T,onFilterChanged:function(e){return{type:"ON_FILTER_CHANGE",payload:e}}}))(q),W=function(e){Object(c.a)(o,e);var t=Object(u.a)(o);function o(){return Object(l.a)(this,o),t.apply(this,arguments)}return Object(d.a)(o,[{key:"render",value:function(){var e=this,t=this.props.todoLists.find((function(t){return t.id===e.props.currentTodoList})).todos.find((function(t){return t.id===e.props.onUpdateTodoId}))||{};return n.a.createElement(D.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),n.a.createElement(D.a.Header,{closeButton:!0},n.a.createElement(D.a.Title,{id:"contained-modal-title-center"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0435\u043b\u043e ",n.a.createElement("i",null,t.text)," ?")),n.a.createElement(D.a.Footer,null,n.a.createElement(y.a,{variant:"danger",onClick:this.props.dialogTodoToggle},n.a.createElement("i",null,"\u041d\u0415\u0422")),n.a.createElement(y.a,{variant:"success",onClick:function(){e.props.onUpdateTodo("delete",e.props.onUpdateTodoId),e.props.showAlert("error","\u0414\u0435\u043b\u043e ".concat(t.text," \u0443\u0434\u0430\u043b\u0435\u043d\u043e")),setTimeout(e.props.closeAlert,3e3)}},n.a.createElement("i",null,"\u0414\u0410"))))}}]),o}(a.Component),Y=Object(s.b)((function(e){return e}),{dialogTodoToggle:O,showAlert:h,onUpdateTodo:f,closeAlert:g})(W),K=(o(64),function(e){Object(c.a)(o,e);var t=Object(u.a)(o);function o(){var e;Object(l.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={inputValue:"",checkValue:null},e.onChange=function(t){e.setState({inputValue:t.target.value})},e.onChangeCheckbox=function(t){e.setState({checkValue:t.target.checked})},e.onSubmit=function(t){t.preventDefault();var o=e.props.todoLists.find((function(t){return t.id===e.props.currentTodoList}));if(!e.state.inputValue||e.state.inputValue.length<=0)e.props.closeModalTodo(),e.props.showAlert("error","\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 "),setTimeout(e.props.closeAlert,3e3);else if(e.state.inputValue.length>=30)e.props.closeModalTodo(),e.props.showAlert("error","\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 "),setTimeout(e.props.closeAlert,3e3);else if(o.todos.some((function(t){return t.text===e.state.inputValue})))e.props.closeModalTodo(),e.props.showAlert("error","\u0422\u0430\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 "),setTimeout(e.props.closeAlert,3e3);else if(e.props.onUpdateTodoItem)e.props.onUpdateTodo("update",e.props.onUpdateTodoItem.id,e.state.inputValue,e.state.checkValue,e.props.onUpdateTodoItem.done,Date.now()),e.props.showAlert("success","\u0414\u0435\u043b\u043e ".concat(e.state.inputValue," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e ")),setTimeout(e.props.closeAlert,3e3);else{var a=e.props.todoLists.find((function(t){return t.id===e.props.currentTodoList}));e.props.onUpdateTodo("add",v(a.todos),e.state.inputValue,e.state.checkValue,!1,Date.now()),e.props.showAlert("success","\u0414\u0435\u043b\u043e ".concat(e.state.inputValue," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e ")),setTimeout(e.props.closeAlert,3e3)}},e}return Object(d.a)(o,[{key:"componentDidUpdate",value:function(e,t,o){this.props.onUpdateTodoItem&&e!==this.props&&this.setState({inputValue:this.props.onUpdateTodoItem.text,checkValue:this.props.onUpdateTodoItem.important})}},{key:"render",value:function(){return n.a.createElement(D.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),n.a.createElement(D.a.Header,{closeButton:!0},n.a.createElement(D.a.Title,{id:"contained-modal-title-vcenter"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0435\u043b\u043e")),n.a.createElement(D.a.Body,null,n.a.createElement(V.a,{className:"mb-3"},n.a.createElement(N.a,{className:"form-todo",onSubmit:this.onSubmit},n.a.createElement(N.a.Label,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),n.a.createElement(H.a,{onChange:this.onChange,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u0435\u043b\u0430",value:this.state.inputValue}),n.a.createElement(N.a.Label,null,"\u0421\u0440\u043e\u0447\u043d\u043e"),n.a.createElement(H.a,{onChange:this.onChangeCheckbox,type:"checkbox",checked:this.state.checkValue}),n.a.createElement(y.a,{variant:"success",onClick:this.onSubmit},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))))}}]),o}(a.Component)),X=Object(s.b)((function(e){return e}),{closeModalTodo:L,onUpdateTodo:f,showAlert:h,closeAlert:g})(K),Z=(o(65),Object(s.b)((function(e){return e}),{onUpdateTodo:f,dialogTodoToggle:O,openModalTodo:function(e){return{type:"OPEN_MODAL_TODO",payload:e}},closeModalTodo:L})((function(e){var t=e.currentTodoList,o=e.todoLists,a=e.onUpdateTodo,r=e.isTodoDialogOpened,i=e.dialogTodoToggle,s=e.isTodoModalOpened,l=e.openModalTodo,d=e.closeModalTodo;if(!o.length)return n.a.createElement("div",{className:"todos-title"},n.a.createElement("h2",null,"\u0414\u0435\u043b\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442, \u0432\u044b \u0432\u0441\u0451 \u0441\u0434\u0435\u043b\u0430\u043b\u0438!"));if(null===t)return n.a.createElement("div",{className:"todos-title"},n.a.createElement("h2",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u043b"));var c=o.find((function(e){return e.id===t})),u="todo-item ";return n.a.createElement("div",{className:"todos"},n.a.createElement(X,{show:s,onHide:d}),n.a.createElement(Y,{show:r,onHide:i}),n.a.createElement("h3",{className:"todos-title"},c.title),c.todos.sort((function(e,t){return t.date-e.date})).map((function(e,t){return u=e.important?"todo-item important":"todo-item ",n.a.createElement("div",{className:u,key:t},n.a.createElement(N.a,{className:"todo-item checkbox"},n.a.createElement(N.a.Check,{onChange:function(){return a("doneToggle",e.id)},type:"checkbox",checked:e.done,size:"lg"})),n.a.createElement("h5",{onClick:function(){return a("doneToggle",e.id)}},e.text,n.a.createElement("span",null,function(e){var t=new Date(e),o=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var n=t.getDate();n=n<10?"0"+n:n;var r=t.getHours();r=r<10?"0"+r:r;var i=t.getMinutes();return i=i<10?"0"+i:i,"".concat(n,".").concat(a,".").concat(o," ").concat(r,":").concat(i)}(e.date))),n.a.createElement(y.a,{variant:"outline-info",size:"sm",onClick:function(){return l(e.id)}},n.a.createElement("i",{className:"fa fa-pencil"})),n.a.createElement(y.a,{variant:"outline-info",size:"sm",onClick:function(){return i(e.id)}},n.a.createElement("i",{className:"fa fa-times"})))})),n.a.createElement(y.a,{className:"add-todo-button",variant:"success",size:"lg",onClick:l},"+"))}))),$=(o(66),function(){return n.a.createElement("div",{className:"container-xl"},n.a.createElement(C,null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-5 col-sm-12 todo-lists-wrapper"},n.a.createElement(Q,null)),n.a.createElement("div",{className:"col-md-7 col-sm-12 todos-wrapper"},n.a.createElement(Z,null))))}),ee=o(27),te=o(8),oe={todoLists:[],error:null,loading:!0,sortBy:"date",filterValue:"active",currentTodoList:null,isListModalOpened:!1,isTodoModalOpened:!1,isListDialogOpened:!1,isTodoDialogOpened:!1,onUpdateTodoId:null,onUpdateListId:null,onUpdateTodoItem:{},onUpdateListItem:{},isAlertShow:{}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.type),t.type){case"FETCH_TODO_LISTS_REQUEST":return Object(te.a)({},e,{todoLists:[],loading:!0,error:null});case"FETCH_TODO_LISTS_SUCCESS":return Object(te.a)({},e,{todoLists:t.payload,loading:!1,error:null});case"FETCH_TODO_LISTS_FAILURE":return Object(te.a)({},e,{todoLists:[],loading:!1,error:t.payload});case"SET_CURRENT_TODO_LIST":return Object(te.a)({},e,{currentTodoList:t.payload});case"ON_FILTER_CHANGE":return Object(te.a)({},e,{filterValue:t.payload});case"DIALOG_LIST_TOGGLE":return Object(te.a)({},e,{isListDialogOpened:!e.isListDialogOpened,onUpdateListId:t.payload});case"OPEN_MODAL_LIST":var o=e.todoLists.find((function(e){return e.id===t.payload}));return Object(te.a)({},e,{isListModalOpened:!0,onUpdateListId:t.payload,onUpdateListItem:o});case"CLOSE_MODAL_LIST":return Object(te.a)({},e,{isListModalOpened:!1,onUpdateListId:null,onUpdateListItem:{}});case"DIALOG_TODO_TOGGLE":return Object(te.a)({},e,{isTodoDialogOpened:!e.isTodoDialogOpened,onUpdateTodoId:t.payload});case"OPEN_MODAL_TODO":var a=e.todoLists.find((function(t){return t.id===e.currentTodoList})),n=a.todos.find((function(e){return e.id===t.payload}));return Object(te.a)({},e,{onUpdateTodoId:t.payload,isTodoModalOpened:!0,onUpdateTodoItem:n});case"CLOSE_MODAL_TODO":return Object(te.a)({},e,{onUpdateTodoItem:{},isTodoModalOpened:!1});case"UPDATE_LIST":var r;switch(t.action){case"add":r=[].concat(Object(p.a)(e.todoLists),[{id:t.id,title:t.title,todos:[]}]);break;case"update":var i=e.todoLists.find((function(e){return e.id===t.id})),s=e.todoLists.findIndex((function(e){return e.id===t.id}));i.title=t.title,r=[].concat(Object(p.a)(e.todoLists.slice(0,s)),[i],Object(p.a)(e.todoLists.slice(s+1)));break;case"delete":var l=e.todoLists.findIndex((function(e){return e.id===t.id}));r=[].concat(Object(p.a)(e.todoLists.slice(0,l)),Object(p.a)(e.todoLists.slice(l+1)))}return Object(te.a)({},e,{currentTodoList:"delete"!==t.action?t.id:null,isListDialogOpened:!1,isListModalOpened:!1,onUpdateListItem:{},todoLists:r});case"UPDATE_TODO":var d,c,u=e.todoLists,m=e.currentTodoList,f=u.find((function(e){return e.id===m})),L=f.todos.find((function(e){return e.id===t.id})),O=f.todos.findIndex((function(e){return e.id===t.id})),E=u.findIndex((function(e){return e.id===m}));switch(t.action){case"add":c={id:t.id,text:t.text,important:t.important,done:!1,date:t.date},d=[].concat(Object(p.a)(f.todos),[c]);break;case"delete":d=[].concat(Object(p.a)(f.todos.slice(0,O)),Object(p.a)(f.todos.slice(O+1)));break;case"doneToggle":c=Object(te.a)({},f.todos[O],{done:!L.done}),d=[].concat(Object(p.a)(f.todos.slice(0,O)),[c],Object(p.a)(f.todos.slice(O+1)));break;case"importantToggle":c=Object(te.a)({},f.todos[O],{important:!L.important}),d=[].concat(Object(p.a)(f.todos.slice(0,O)),[c],Object(p.a)(f.todos.slice(O+1)));break;case"update":c={id:t.id,text:t.text,important:t.important,done:t.done,date:t.date},d=[].concat(Object(p.a)(f.todos.slice(0,O)),[c],Object(p.a)(f.todos.slice(O+1)));break;default:return{newTodo:Object(p.a)(f.todos[O]),todos:Object(p.a)(f.todos)}}var T=Object(te.a)({},f,{todos:d}),h=[].concat(Object(p.a)(e.todoLists.slice(0,E)),[T],Object(p.a)(e.todoLists.slice(E+1)));return Object(te.a)({},e,{todoLists:h,isTodoDialogOpened:!1,isTodoModalOpened:!1,onUpdateTodoItem:{}});case"SHOW_ALERT":return Object(te.a)({},e,{isAlertShow:{status:t.status,message:t.message}});case"CLOSE_ALERT":return Object(te.a)({},e,{isAlertShow:!1});default:return Object(te.a)({},e)}},ne=Object(ee.b)(ae),re=new(function(){function e(){Object(l.a)(this,e),this.data=[{id:1,title:"todo list 1",todos:[{id:1,text:"todo 1-1",important:!1,done:!1,date:1587815200593},{id:2,text:"todo 1-2",important:!1,done:!1,date:1687815399008},{id:3,text:"todo 1-3",important:!1,done:!1,date:1111111111111},{id:4,text:"todo 1-4",important:!1,done:!1,date:1111111111111},{id:5,text:"todo 1-5",important:!1,done:!1,date:1111111111111}]},{id:2,title:"todo list 2",todos:[{id:1,text:"todo 2-1",important:!1,done:!1,date:1111111111111},{id:2,text:"todo 2-2",important:!1,done:!1,date:1111111111111},{id:3,text:"todo 2-3",important:!1,done:!1,date:1111111111111},{id:4,text:"todo 2-4",important:!1,done:!1,date:1111111111111},{id:5,text:"todo 2-5",important:!1,done:!1,date:1111111111111}]},{id:3,title:"todo list 3",todos:[{id:1,text:"todo 3-1",important:!1,done:!1,date:1111111111111},{id:2,text:"todo 3-2",important:!1,done:!1,date:1111111111111},{id:3,text:"todo 3-3",important:!1,done:!1,date:1111111111111},{id:4,text:"todo 3-4",important:!1,done:!1,date:1111111111111},{id:5,text:"todo 3-5",important:!1,done:!1,date:1111111111111}]},{id:4,title:"todo list 4",todos:[{id:1,text:"todo 4-1",important:!1,done:!1,date:1111111111111},{id:2,text:"todo 4-2",important:!1,done:!1,date:1111111111111},{id:3,text:"todo 4-3",important:!1,done:!1,date:1111111111111},{id:4,text:"todo 4-4",important:!1,done:!1,date:1111111111111},{id:5,text:"todo 4-5",important:!1,done:!1,date:1111111111111}]}]}return Object(d.a)(e,[{key:"getTodoLists",value:function(){var e=this;return new Promise((function(t,o){if(!localStorage.getItem("data-todo-26042020")||localStorage.getItem("data-todo-26042020").length<3)setTimeout((function(){Math.random()>.9?o(new Error("Can`t load todo =( ")):t(e.data)}),1500);else{var a=localStorage.getItem("data-todo-26042020");t(JSON.parse(a)),console.log(JSON.parse(a))}}))}}]),e}());i.a.render(n.a.createElement(s.a,{store:ne},n.a.createElement(_,{value:re},n.a.createElement($,null))),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.7dfda39b.chunk.js.map